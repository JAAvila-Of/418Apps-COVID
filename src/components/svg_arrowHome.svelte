<script lang="ts">
  import { fly } from "svelte/transition";
  import { quintOut } from "svelte/easing";
  import * as animateScroll from "svelte-scrollto";

  let show: boolean = false;
  let scroll: number;

  $: {
    if (scroll > 300) {
      show = true;
    } else {
      show = false;
    }
  }

  const up = () => {
    animateScroll.scrollToTop();
  };
</script>

<svelte:window bind:scrollY={scroll} />

{#if show}
  <div
    class="absolute bg-gray-200 dark:bg-gray-900 border border-blue-700 dark:border-yellow-700 rounded-full bottom-0 right-0 cursor-pointer"
    transition:fly={{
      y: 30,
      opacity: 0,
      easing: quintOut,
    }}
    on:click={up}
  >
    <div class=" h-12 w-12 h- m-auto flex items-center justify-center">
      <div class="">
        <svg
          version="1.1"
          id="Layer_1"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          x="0px"
          y="0px"
          viewBox="0 0 512 512"
          style="enable-background:new 0 0 512 512;"
          xml:space="preserve"
          class="h-7 w-7 fill-current text-blue-700 dark:text-yellow-700"
        >
          <g>
            <path
              d="M324.063,512H77.959c-7.964,0-14.423-6.457-14.423-14.423v-270.41c0-4.359,1.972-8.485,5.364-11.222
          L246.94,72.23c5.287-4.266,12.83-4.266,18.119,0l178.04,143.716c3.392,2.737,5.364,6.864,5.364,11.222v269.651
          c0,7.966-6.458,14.423-14.423,14.423s-14.423-6.457-14.423-14.423V234.06L256,101.987L92.381,234.06v249.094h231.682
          c7.964,0,14.423,6.457,14.423,14.423C338.486,505.543,332.029,512,324.063,512z"
            />
            <path
              d="M481.464,209.842c-3.169,0-6.357-1.038-9.02-3.176L256,32.917L39.555,206.665
          c-6.21,4.984-15.289,3.994-20.275-2.22c-4.987-6.212-3.994-15.289,2.218-20.275L246.971,3.176c5.273-4.234,12.783-4.234,18.057,0
          l225.473,180.995c6.212,4.987,7.206,14.063,2.218,20.275C489.871,207.996,485.687,209.842,481.464,209.842z"
            />
          </g>
          <circle
            class="text-blue-300 dark:text-yellow-300"
            cx="256.001"
            cy="207.686"
            r="42.948"
          />
          <path
            d="M256,265.06c-31.635,0-57.369-25.736-57.369-57.37s25.736-57.37,57.369-57.37
        s57.369,25.736,57.369,57.37S287.633,265.06,256,265.06z M256,179.165c-15.728,0-28.524,12.796-28.524,28.525
        s12.796,28.525,28.524,28.525s28.524-12.796,28.524-28.525S271.728,179.165,256,179.165z"
          />
          <rect
            x="187.941"
            y="325.663"
            class="text-blue-300 dark:text-yellow-300"
            width="136.135"
            height="171.918"
          />
          <g>
            <path
              d="M324.063,512H187.935c-7.964,0-14.423-6.457-14.423-14.423v-171.92
          c0-7.966,6.458-14.423,14.423-14.423h136.128c7.964,0,14.423,6.457,14.423,14.423v171.921C338.486,505.543,332.029,512,324.063,512
          z M202.358,483.155h107.283V340.08H202.358V483.155z"
            />
            <path
              d="M436.472,165.351c-7.964,0-14.423-6.457-14.423-14.423V73.313h-28.524
          c-7.964,0-14.423-6.457-14.423-14.423s6.458-14.423,14.423-14.423h42.946c7.964,0,14.423,6.457,14.423,14.423v92.039
          C450.894,158.894,444.436,165.351,436.472,165.351z"
            />
          </g>
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
          <g />
        </svg>
      </div>
    </div>
  </div>
{/if}
